<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>expire-count.co.kh</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="./images/The K logo.jpg" />
  </head>
  <body>
    <div class="container">
      <nav class="nav-bar">
        <div class="logo">
          <img class="logo" src="./images/The K logo.jpg" alt="Lolo" />
        </div>

        <div class="nav-link">
          <ul class="nav-list">
            <li><a class="list" href="#">Home</a></li>
            <li><a class="list" href="#Cal2">Calculator</a></li>
            <li><a class="list" href="#Phos3">Photos</a></li>
            <li><a class="list" href="#Abou4">About Us</a></li>
          </ul>
        </div>
      </nav>

      <div class="hero-section">
        <div class="text-side">
          <h2>Hello guys, welcome to our team website</h2>
          <p>We bring more joy to our team</p>

          <h3 id="current-time"></h3>
        </div>

        <div class="image-side">
          <div class="clock">
            <div class="seconds"></div>
            <div class="minutes"></div>
            <div class="minute">44</div>
            <div class="hour"></div>
          </div>
        </div>
      </div>

      <div id="Cal2" class="calculator">
        <div class="cal-expired">
          <h2>Date of Expiration Calculator</h2>
          <label class="labe-date" for="userDate"
            >Enter date (yyyy-mm-dd):</label
          >
          <br />
          <input
            class="cal-input"
            type="text"
            id="userDate"
            name="userDate"
            placeholder="YYYY-MM-DD"
          />
          <br />
          <button class="cal-buton" onclick="calculateDifference()">
            Calculate
          </button>
          <button class="cal-buton" onclick="clearResult()">Clear</button>
          <h3 id="result"></h3>
        </div>

        <table class="exp-table" border="3">
          <thead>
            <tr>
              <th>Shelf Life</th>
              <th>50% Expiration Date</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>3 years</td>
              <td></td>
            </tr>
            <tr>
              <td>1.5 years</td>
              <td></td>
            </tr>
            <tr>
              <td>1 year</td>
              <td></td>
            </tr>
            <tr>
              <td>9 months</td>
              <td></td>
            </tr>
            <tr>
              <td>6 months</td>
              <td></td>
            </tr>
            <tr>
              <td>3 months</td>
              <td></td>
            </tr>
            <tr>
              <td>2 months</td>
              <td></td>
            </tr>
            <tr>
              <td>1 month</td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <script src="index.js"></script>

    <!--    <script>
      function updateTime() {
        var now = new Date();
        var hours = now.getHours();
        var ampm = hours >= 12 ? "PM" : "AM";
        hours = hours % 12;
        hours = hours ? hours : 12;
        var minutes = now.getMinutes().toString().padStart(2, "0");
        var seconds = now.getSeconds().toString().padStart(2, "0");
        var currentTime = hours + ":" + minutes + ":" + seconds + " " + ampm;
        document.getElementById("current-time").innerText = currentTime;
      }

      window.onload = function () {
        updateTime();
        setInterval(updateTime, 1000);

        // Calculate and update expiration dates in the table
        updateExpirationDates();
      };

      function updateExpirationDates() {
        const today = new Date();
        const rows = document.querySelectorAll(".exp-table tbody tr");

        rows.forEach((row) => {
          const shelfLifeCell = row.cells[0];
          const expirationDateCell = row.cells[1];
          const shelfLifeText = shelfLifeCell.textContent.trim();

          let halfShelfLifeDays = 0;
          if (shelfLifeText.includes("year")) {
            const years = parseFloat(shelfLifeText);
            halfShelfLifeDays = (years * 365) / 2;
          } else if (shelfLifeText.includes("month")) {
            const months = parseFloat(shelfLifeText);
            if (months === 1) {
              halfShelfLifeDays = 15; // Special case for 1 month
            } else {
              halfShelfLifeDays = (months * 30) / 2;
            }
          }

          if (halfShelfLifeDays > 0) {
            const expirationDate = new Date(today);
            expirationDate.setDate(today.getDate() + halfShelfLifeDays);
            expirationDateCell.textContent = expirationDate
              .toISOString()
              .split("T")[0];
          }
        });
      }

      function calculateDifference() {
        const userDate = document.getElementById("userDate").value;
        const datePattern = /^\d{4}-\d{2}-\d{2}$/;

        if (userDate.match(datePattern)) {
          const currentDate = new Date();
          const enteredDate = new Date(userDate);

          const timeDifference = enteredDate - currentDate;
          const daysDifference = Math.ceil(
            timeDifference / (1000 * 60 * 60 * 24)
          );

          let years = Math.floor(daysDifference / 365);
          let months = Math.floor((daysDifference % 365) / 30);
          let days = daysDifference - years * 365 - months * 30;

          let result = "";
          if (years > 0) result += `${years} year(s) `;
          if (months > 0) result += `${months} month(s) `;
          if (days > 0) result += `${days} day(s)`;

          document.getElementById(
            "result"
          ).innerText = `The days left: ${result}`;
        } else {
          document.getElementById("result").innerText =
            "Please enter a valid date in the format yyyy-mm-dd.";
        }
      }

      function clearResult() {
        document.getElementById("userDate").value = "";
        document.getElementById("result").innerText = "";
      }
    </script> -->
  </body>
</html>
